<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>In Love</title>
  <style>
    :root{ 
      --pink:#f06292;
      --bg:#fff; 
      --text:#333; 
    }
    html,body{ height:100%; margin:0; overflow:hidden; }
    body{
      display:grid; place-items:center;
      font-family: "SF Pro Text", "SF Pro Display", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial;
      background: var(--bg);
      color: var(--text);
      -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
    }
    main{ text-align:center; padding:24px; position:relative; z-index:2; }
    .title{
      color: var(--pink);
      font-weight:700;
      font-size: clamp(28px, 7.5vw, 56px);
      letter-spacing:.2px;
    }
    .counter{
      margin-top:12px;
      color: var(--pink);
      font-weight:600;
      font-size: clamp(14px, 4vw, 22px);
    }

    /* Wrapper + SVG tách animation để mượt, không khựng */
    .heart{ /* wrapper */
      position:absolute;
      bottom:-60px;
      pointer-events:none;
      left:50vw;
      animation: sway var(--dur,8s) ease-in-out infinite;
      will-change: transform;
    }
    .heart-svg{ /* svg bên trong */
      width: var(--size,44px); /* tim to hơn, có thể chỉnh qua --size */
      height: auto; /* giữ đúng tỷ lệ, không bị vuông */
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.1));
      opacity: var(--op,.9);
      animation: floatUp var(--dur,8s) linear forwards;
      will-change: transform, opacity;
      display:block;
    }

    @keyframes floatUp{
      0%{ transform: translateY(0) rotate(var(--rot,0deg)) scale(1); opacity:var(--op,.9);} 
      70%{ opacity:1; }
      100%{ transform: translateY(-130vh) rotate(var(--rot,0deg)) scale(1.08); opacity:0;}
    }
    @keyframes sway{
      0%  { transform: translateX(0); }
      25% { transform: translateX(var(--amp,40px)); }
      50% { transform: translateX(0); }
      75% { transform: translateX(calc(var(--amp,40px) * -1)); }
      100%{ transform: translateX(0); }
    }
  </style>
</head>
<body>
  <main>
    <div class="title">Hữu Hưng ❤️ Thúy Bình</div>
    <div class="counter" id="counter">We were together —</div>
  </main>

  <script>
    const START = new Date('2025-03-20T00:00:00');
    const $counter = document.getElementById('counter');

    function pad(n){ return String(n).padStart(2,'0'); }
    function tick(){
      const now = new Date();
      let diff = now - START;
      const sec=1000, min=60*sec, hour=60*min, day=24*hour;
      const days=Math.floor(diff/day); diff%=day;
      const hours=Math.floor(diff/hour); diff%=hour;
      const minutes=Math.floor(diff/min); diff%=min;
      const seconds=Math.floor(diff/sec);
      $counter.textContent=`We were together ${days} day ${pad(hours)} hour ${pad(minutes)} min ${pad(seconds)} second`;
    }
    tick(); setInterval(tick,1000);

    const COLORS=['#ff9aa2','#ffb3ba','#ffc2d1','#ffd1dc','#ffadc6','#ff8fab','#f48fb1','#f6a6d1','#ffa3a3','#ff8ea1'];

    function createHeart(){
      const wrap=document.createElement('div');
      wrap.className='heart';

      const svgNS='http://www.w3.org/2000/svg';
      const svg=document.createElementNS(svgNS,'svg');
      svg.setAttribute('viewBox','0 0 32 29'); // đúng tỉ lệ tim, tránh bị vuông
      svg.classList.add('heart-svg');
      svg.style.setProperty('--size','48px'); // to hơn nữa nếu muốn

      const path=document.createElementNS(svgNS,'path');
      // Rounded Heart Shape (khe nông, đáy bo mềm)
      path.setAttribute('d','M16 30 C 8 23, 3 15, 8 9 C 11 6, 16 8, 16 11 C 16 8, 21 6, 24 9 C 29 15, 24 23, 16 30 Z');
      const base=COLORS[Math.random()*COLORS.length|0];
      path.setAttribute('fill', base);
      path.setAttribute('stroke','rgba(255,255,255,.55)');
      path.setAttribute('stroke-width','0.6');
      path.setAttribute('shape-rendering','geometricPrecision');
      svg.appendChild(path);

      // tham số random mượt mà hơn
      const left=Math.random()*100;
      const rot=(Math.random()*26 - 13).toFixed(1); // xoay vừa phải
      const dur=(Math.random()*4 + 7).toFixed(2)+'s';
      const op=(Math.random()*0.25 + 0.75).toFixed(2);
      const amp=(Math.random()*80 - 40).toFixed(0)+'px';

      wrap.style.left=left+'vw';
      wrap.style.setProperty('--dur', dur);
      wrap.style.setProperty('--amp', amp);
      svg.style.setProperty('--rot', rot+'deg');
      svg.style.setProperty('--op', op);

      wrap.appendChild(svg);
      document.body.appendChild(wrap);
      setTimeout(()=>wrap.remove(),13000);
    }

    const seed=36;for(let i=0;i<seed;i++){setTimeout(createHeart,i*100);} 
    setInterval(createHeart,420);
  </script>
</body>
</html>
